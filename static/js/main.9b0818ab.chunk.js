(this["webpackJsonpweather-api"]=this["webpackJsonpweather-api"]||[]).push([[0],{177:function(e,a,t){"use strict";t.r(a);var c=t(1),s=t.n(c),n=t(61),r=t.n(n),i=(t(40),t(38)),l=t.n(i),o=t(62),d=t(3),j=t(0);var u=function(){return Object(j.jsxs)("div",{className:"failed-message",children:[Object(j.jsxs)("h2",{children:["Failed to find location ",Object(j.jsx)("i",{className:"fas fa-exclamation-triangle"})]}),Object(j.jsx)("div",{children:"Please try again or try another location"})]})};var m=function(){return Object(j.jsxs)("div",{className:"loading-message",children:[Object(j.jsx)("h2",{children:"Loading"}),Object(j.jsx)("div",{id:"spinner",className:"loading-spinner",children:Object(j.jsx)("i",{className:"fas fa-spinner"})})]})};var b=function(e){var a=e.updateSearch,t=Object(c.useState)(""),s=Object(d.a)(t,2),n=s[0],r=s[1];return Object(j.jsxs)("form",{className:"search-form",onSubmit:function(e){a(n),e.preventDefault()},children:[Object(j.jsxs)("div",{className:"search-bar-wrapper",children:[Object(j.jsx)("button",{"aria-label":"search",className:"search-button",type:"submit",children:Object(j.jsx)("i",{className:"fas fa-search"})}),Object(j.jsx)("input",{placeholder:"Search",value:n,type:"text",onChange:function(e){r(e.target.value)},spellCheck:"false"})]}),Object(j.jsx)("label",{children:"Search format : City Name, Coutry Code"})]})};var h=function(e){var a=e.dayInfo,t=e.getTimeFromTimestamp,c=e.timeZoneOffest,s=a.temp,n=new Date,r=function(e){return Math.round(e)};return Object(j.jsxs)("div",{className:"current-info",children:[Object(j.jsxs)("div",{className:"vertical-column",children:[Object(j.jsxs)("div",{className:"column-element",children:[Object(j.jsx)("div",{className:"column-icon",children:Object(j.jsx)("i",{className:"fas fa-thermometer-three-quarters"})}),Object(j.jsxs)("div",{className:"column-content",children:[Object(j.jsxs)("div",{className:"element-value",children:[r(s.max),"\xb0"]}),Object(j.jsx)("div",{className:"element-sub-heading",children:"High"})]})]}),Object(j.jsxs)("div",{className:"column-element",children:[Object(j.jsx)("div",{className:"column-icon",children:Object(j.jsx)("i",{className:"fas fa-thermometer-empty"})}),Object(j.jsxs)("div",{className:"column-content",children:[Object(j.jsxs)("div",{className:"element-value",children:[r(s.min),"\xb0"]}),Object(j.jsx)("div",{className:"element-sub-heading",children:"Low"})]})]})]}),Object(j.jsxs)("div",{className:"vertical-column",children:[Object(j.jsxs)("div",{className:"column-element",children:[Object(j.jsx)("div",{className:"column-icon",children:Object(j.jsx)("i",{className:"fas fa-wind"})}),Object(j.jsxs)("div",{className:"column-content",children:[Object(j.jsxs)("div",{className:"element-value",children:[r(a.speed),"km/h"]}),Object(j.jsx)("div",{className:"element-sub-heading",children:"Wind"})]})]}),Object(j.jsxs)("div",{className:"column-element",children:[Object(j.jsx)("div",{className:"column-icon",children:Object(j.jsx)("i",{className:"fas fa-cloud-rain"})}),Object(j.jsxs)("div",{className:"column-content",children:[Object(j.jsxs)("div",{className:"element-value",children:[r(100*a.pop),"%"]}),Object(j.jsx)("div",{className:"element-sub-heading",children:"Rain"})]})]})]}),Object(j.jsxs)("div",{className:"vertical-column",children:[Object(j.jsxs)("div",{className:"column-element",children:[Object(j.jsx)("div",{className:"column-icon",children:Object(j.jsx)("i",{className:"fas fa-sun"})}),Object(j.jsxs)("div",{className:"column-content",children:[Object(j.jsx)("div",{className:"element-value",children:t(a.sunrise+c+60*n.getTimezoneOffset())}),Object(j.jsx)("div",{className:"element-sub-heading",children:"Sunrise"})]})]}),Object(j.jsxs)("div",{className:"column-element",children:[Object(j.jsx)("div",{className:"column-icon",children:Object(j.jsx)("i",{className:"fas fa-moon"})}),Object(j.jsxs)("div",{className:"column-content",children:[Object(j.jsx)("div",{className:"element-value",children:t(a.sunset+c+60*n.getTimezoneOffset())}),Object(j.jsx)("div",{className:"element-sub-heading",children:"Sunset"})]})]})]})]})};var O=function(e){var a,t=e.temp,c=e.weather,s=e.renderIcon;return Object(j.jsxs)("div",{className:"current-temp",children:[Object(j.jsxs)("div",{className:"icon-temp",children:[Object(j.jsx)("div",{children:s(c.icon)}),Object(j.jsxs)("div",{children:[t,"\xb0"]})]}),Object(j.jsx)("div",{className:"temp-desc",children:(a=c.description,a.charAt(0).toUpperCase()+a.slice(1))})]})};var x=function(e){var a,t=e.temp,c=e.weather,s=e.pop,n=e.renderIcon,r=e.timeInfo;return Object(j.jsx)("div",{className:"hourly-card",children:Object(j.jsxs)("div",{className:"hourly-elements",children:[Object(j.jsx)("div",{className:"hourly-time",children:function(e){var a,t=e.initialTime,c=e.index,s=function(e){return e<10?"0".concat(e):e}((a=t.getHours()+c)>23?a-24:a);return"".concat(s,":00")}(r)}),Object(j.jsx)("div",{className:"hourly-icon",children:n(c)}),Object(j.jsxs)("div",{className:"hourly-temp",children:[(a=t,Math.round(a)),"\xb0"]}),Object(j.jsxs)("div",{className:"hourly-rain",children:[Object(j.jsx)("i",{className:"fas fa-tint"}),Object(j.jsxs)("div",{className:"pop",children:[Math.round(100*s),"%"]})]})]})})},f=t(23);var p=function(e){var a=e.popArray,t={labels:(0,e.getDaysOfWeek)(),datasets:[{label:"Precipitation %",data:a,borderColor:"rgba(3, 152, 252, 1)",backgroundColor:"rgba(3, 152, 252, 1)",pointBackgroundColor:"rgb(3, 152, 252)",pointBorderColor:"rgb(3, 152, 252)",tension:.3,fill:!0}]};return Object(j.jsx)("div",{children:Object(j.jsx)(f.a,{data:t,options:{elements:{point:{pointRadius:4,pointHoverRadius:6}},plugins:{legend:{display:!0,labels:{color:"rgb(255, 255, 255)"}}},scales:{y:{min:0,max:100,grid:{color:"rgba(255, 255, 255, 0.5)"},gridLines:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"rgba(255, 255, 255, 1)",callback:function(e){return e+"%"}}},x:{grid:{color:"rgba(255, 255, 255, 0.5)"},gridLines:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"rgba(255, 255, 255, 1)"}}}}})})},v=t(2);var N=function(e){var a=e.getDaysOfWeek,t=e.maxTempArray,c=e.minTempArray,s=e.roundToNearestFive,n={labels:a(),datasets:[{label:"Min Temp",data:c,borderColor:"rgba(3, 152, 252, 1)",backgroundColor:"rgba(3, 152, 252, 0.5)",pointBackgroundColor:"rgb(3, 152, 252)",pointBorderColor:"rgb(3, 152, 252)",tension:.3,fill:!0},{label:"Max Temp",data:t,borderColor:"rgba(235, 156, 52, 1)",backgroundColor:"rgba(235, 156, 52, 0.5)",pointBackgroundColor:"rgb(235, 156, 52)",pointBorderColor:"rgb(235, 156, 52)",tension:.3,fill:!0}]},r={elements:{point:{pointRadius:4,pointHoverRadius:6}},plugins:{legend:{display:!0,labels:{color:"rgb(255, 255, 255)"}}},scales:{y:{min:s(Math.min.apply(Math,Object(v.a)(c))-5),max:s(Math.max.apply(Math,Object(v.a)(t))+5),grid:{color:"rgba(255, 255, 255, 0.5)"},gridLines:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"rgba(255, 255, 255, 1)",callback:function(e){return e+"\xb0"}}},x:{grid:{color:"rgba(255, 255, 255, 0.5)"},gridLines:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"rgba(255, 255, 255, 1)"}}}};return Object(j.jsx)("div",{children:Object(j.jsx)(f.b,{data:n,options:r})})};var g=function(e){var a=e.dailyWeather,t=Object(c.useState)(!0),s=Object(d.a)(t,2),n=s[0],r=s[1],i=a.map((function(e){return Math.round(e.temp.max)})),l=a.map((function(e){return Math.round(e.temp.min)})),o=a.map((function(e){return Math.round(100*e.pop)})),u=function(){for(var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=[],t=(new Date).getDay(),c=0;c<7;c++)t+c>6?t=-c-1:a.push(e[t+c]);return a};return Object(j.jsxs)("div",{className:"chart",children:[Object(j.jsxs)("div",{className:"menu-wrapper",children:[Object(j.jsxs)("div",{className:n?"menu-option active":"menu-option",onClick:function(){return r(!0)},children:[Object(j.jsx)("i",{className:"fas fa-temperature-high"})," Temperature Graph"]}),Object(j.jsxs)("div",{className:n?"menu-option":"menu-option active",onClick:function(){return r(!1)},children:[Object(j.jsx)("i",{className:"fas fa-tint"})," Precipitation Graph"]})]}),n?Object(j.jsx)(N,{getDaysOfWeek:u,maxTempArray:i,minTempArray:l,roundToNearestFive:function(e){return 5*Math.ceil(e/5)}}):Object(j.jsx)(p,{popArray:o,getDaysOfWeek:u})]})};var y=function(e){var a=e.hourlyData,t=e.dailyData,c=Math.round(a.list[0].main.temp),s=a.list[0].weather[0],n=a.list,r=t.list.slice(0,7),i=function(e){var a=e/60,t=new Date,c=t.getTimezoneOffset();return t.setMinutes(t.getMinutes()+c+a),t},l=function(e){switch(e){case"01d":return Object(j.jsx)("i",{className:"fas fa-sun"});case"01n":return Object(j.jsx)("i",{className:"fas fa-moon"});case"02d":return Object(j.jsx)("i",{className:"fas fa-cloud-sun"});case"02n":return Object(j.jsx)("i",{className:"fas fa-cloud-moon"});case"03d":case"03n":case"04d":case"04n":return Object(j.jsx)("i",{className:"fas fa-cloud"});case"09d":case"09n":return Object(j.jsx)("i",{className:"fas fa-cloud-showers-heavy"});case"10d":return Object(j.jsx)("i",{className:"fas fa-cloud-sun-rain"});case"10n":return Object(j.jsx)("i",{className:"fas fa-cloud-moon-rain"});case"11d":case"11n":return Object(j.jsx)("i",{className:"fas fa-bolt"});case"13d":case"13n":return Object(j.jsx)("i",{className:"fas fa-snowflake"});case"50d":case"50n":return Object(j.jsx)("i",{className:"fas fa-smog"});default:console.log("BROKE")}},o=i(t.city.timezone),d=function(e){return e<10?"0".concat(e):e};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"card-warpper",children:[Object(j.jsxs)("div",{className:"card-title",children:[Object(j.jsxs)("div",{className:"location",children:[a.city.name,", ",a.city.country]}),Object(j.jsx)("div",{className:"date",children:"".concat(d(o.getHours()),":").concat(d(o.getMinutes())," ").concat(o.toDateString())})]}),Object(j.jsxs)("div",{className:"current-weather-info",children:[Object(j.jsx)(O,{temp:c,weather:s,renderIcon:l}),Object(j.jsx)("div",{className:"current-divider"}),Object(j.jsx)(h,{dayInfo:t.list[0],getTimeFromTimestamp:function(e){var a=new Date(1e3*e),t=a.getHours()<10?"0".concat(a.getHours()):a.getHours(),c=a.getMinutes()<10?"0".concat(a.getMinutes()):a.getMinutes();return"".concat(t,":").concat(c)},timeZoneOffest:t.city.timezone})]}),Object(j.jsxs)("div",{className:"hourly-info",children:[Object(j.jsx)("div",{className:"hourly-title",children:"Todays Weather"}),Object(j.jsx)("div",{className:"card-wrapper",children:n.map((function(e){return Object(j.jsx)(x,{temp:e.main.temp,weather:e.weather[0].icon,pop:e.pop,renderIcon:l,timeInfo:{initialTime:i(t.city.timezone),index:n.indexOf(e)}},e.dt)}))})]})]}),Object(j.jsx)(g,{dailyWeather:r})]})};var w=function(){var e=Object(c.useState)(null),a=Object(d.a)(e,2),t=a[0],s=a[1],n=Object(c.useState)(null),r=Object(d.a)(n,2),i=r[0],h=r[1],O=Object(c.useState)("true"),x=Object(d.a)(O,2),f=x[0],p=x[1],v=Object(c.useState)("Dublin, ie"),N=Object(d.a)(v,2),g=N[0],w=N[1],k="9a79c7f3d400c7b58c7cd9940014db14",M=function(){var e=Object(o.a)(l.a.mark((function e(a){var t,c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("https://pro.openweathermap.org/data/2.5/forecast/hourly?q=".concat(g,"&appid=").concat(k,"&units=metric&cnt=24"));case 5:return t=e.sent,e.next=8,t.json();case 8:return c=e.sent,s(c),e.next=12,fetch("https:api.openweathermap.org/data/2.5/forecast/daily?q=".concat(g,"&cnt=",16,"&appid=").concat(k,"&units=metric"));case 12:return n=e.sent,e.next=15,n.json();case 15:r=e.sent,h(r),"404"===r.cod||"404"===c.cod?p("failed"):p("false"),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),console.log("Fetch failed"),p("failed");case 24:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(a){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){M(g)}),[g]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("div",{className:"title-icon",children:[Object(j.jsx)("div",{className:"icon svg-shadow",children:Object(j.jsx)("i",{className:"fas fa-globe-europe"})}),Object(j.jsx)("div",{className:"title",children:"GLOBAL WEATHER"})]}),Object(j.jsx)("div",{className:"title-divider"}),Object(j.jsx)(b,{updateSearch:function(e){e!==g&&""!==e&&(w(e),p("true"))}}),function(){switch(f){case"true":return Object(j.jsx)(m,{});case"false":return Object(j.jsx)(y,{hourlyData:t,dailyData:i});case"failed":return Object(j.jsx)(u,{});default:return Object(j.jsx)("div",{children:"Something Broke :("})}}()]})};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root"))},40:function(e,a,t){}},[[177,1,2]]]);
//# sourceMappingURL=main.9b0818ab.chunk.js.map